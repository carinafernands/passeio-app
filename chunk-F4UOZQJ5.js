import{a as q}from"./chunk-MBCYFZHR.js";import{a as w,b as p,c as I,d as N,e as _,g as u,i as L,j as M,k as T,l as O,m as R,n as j,q as z,s as k}from"./chunk-EMROB5ZX.js";import{$ as e,Ga as x,O as n,Q as b,R as C,S as d,V as s,Y as m,_ as t,aa as g,ca as S,ea as i,ga as E,ra as y,sa as F,ta as h,z as c}from"./chunk-7JQWYE26.js";function D(o,a){o&1&&(t(0,"span",18),i(1," Campo obrigat\xF3rio "),e())}function V(o,a){if(o&1&&(t(0,"option",9),i(1),e()),o&2){let r=a.$implicit;m("value",r.nome),n(),E(" ",r.nome," ")}}function B(o,a){o&1&&(t(0,"span",18),i(1," Campo obrigat\xF3rio "),e())}function P(o,a){o&1&&(t(0,"span",18),i(1," Campo obrigat\xF3rio "),e())}function $(o,a){o&1&&(t(0,"span",18),i(1," Campo obrigat\xF3rio "),e())}function H(o,a){o&1&&(t(0,"span",18),i(1," Campo obrigat\xF3rio "),e())}var f=class o{constructor(a,r){this.categoriaService=a;this.lugarService=r;this.camposForm=new _({nome:new u("",p.required),categoria:new u("",p.required),localizacao:new u("",p.required),urlFoto:new u("",p.required),avaliacao:new u("",p.required)})}camposForm;categorias=[];ngOnInit(){this.categoriaService.obterTodas().subscribe({next:a=>this.categorias=a})}salvar(){this.camposForm.markAllAsTouched(),this.camposForm.valid&&this.lugarService.salvar(this.camposForm.value).subscribe({next:a=>{console.log("Cadastrado com sucesso!",a),this.camposForm.reset()},error:a=>console.error("Ocorreu um erro: ",a)})}isCampoInvalido(a){let r=this.camposForm.get(a);return r?.invalid&&r?.touched&&r?.errors?.required}static \u0275fac=function(r){return new(r||o)(b(k),b(q))};static \u0275cmp=C({type:o,selectors:[["app-lugares"]],standalone:!1,decls:46,vars:12,consts:[[1,"p-6","max-w-lg","max-auto","bg-white","shadow-lg","rounded-lg","mt-6"],[1,"text-2x1","font-semibold","text-gray-700","mg-4"],["id","lugarForm",3,"ngSubmit","formGroup"],[1,"mb-4"],["form","nome",1,"block","text-gray-600","font-medium","mb-2"],["type","text","id","nome","name","nome","formControlName","nome","placeholder","Ex.: Praia do sol, Restaurante Estrela",1,"w-full","p-3","border","border-gray-300","rounded","shadow-sm","focus:ring","focus:","ring-blue-400"],["class","text-red-500 text-sm",4,"ngIf"],["form","categoria",1,"block","text-gray-600","font-medium","mb-2"],["id","categoria","name","categoria","formControlName","categoria",1,"w-full","border","border-gray-300","rounde","shadow-sm","focus:outline-none","focus:ring","focus:ring-blue-400"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["form","localizacao",1,"block","text-gray-600","font-medium","mb-2"],["type","text","id","localizacao","name","localizacao","formControlName","localizacao","placeholder","Ex.: Recife",1,"w-full","p-3","border","border-gray-300","rounded","shadow-sm","focus:ring","focus:","ring-blue-400"],["form","urlFoto",1,"block","text-gray-600","font-medium","mb-2"],["type","text","id","urlFoto","name","urlFoto","formControlName","urlFoto","placeholder","Ex.: http://exemplo.com/foto.jpg",1,"w-full","p-3","border","border-gray-300","rounded","shadow-sm","focus:ring","focus:","ring-blue-400"],["form","avaliacao",1,"block","text-gray-600","font-medium","mb-2"],["id","avaliacao","name","avaliacao","formControlName","avaliacao",1,"w-full","p-3","border","border-gray-300","rounded","shadow-sm","focus:ring","focus:","ring-blue-400"],["type","submit",1,"w-full","bg-blue-600","text-white","font-semibold","p-3","rounded","shadow","hover:bg-blue-700"],[1,"text-red-500","text-sm"]],template:function(r,l){r&1&&(t(0,"div",0)(1,"h2",1),i(2,"Novo lugar"),e(),t(3,"form",2),S("ngSubmit",function(){return l.salvar()}),t(4,"div",3)(5,"label",4),i(6,"Nome do lugar"),e(),g(7,"input",5),s(8,D,2,0,"span",6),e(),t(9,"div",3)(10,"label",7),i(11,"Categoria"),e(),t(12,"select",8)(13,"option",9),i(14,"Selecione uma categoria"),e(),s(15,V,2,2,"option",10),e(),s(16,B,2,0,"span",6),e(),t(17,"div",3)(18,"label",11),i(19,"Localiza\xE7\xE3o"),e(),g(20,"input",12),s(21,P,2,0,"span",6),e(),t(22,"div",3)(23,"label",13),i(24,"Foto"),e(),g(25,"input",14),s(26,$,2,0,"span",6),e(),t(27,"div",3)(28,"label",15),i(29,"Avalia\xE7\xE3o"),e(),t(30,"select",16)(31,"option",9),i(32,"Selecione uma avalia\xE7\xE3o"),e(),t(33,"option",9),i(34,"1 - Ruim"),e(),t(35,"option",9),i(36,"2 - Regular"),e(),t(37,"option",9),i(38,"3 - Bom"),e(),t(39,"option",9),i(40,"4 - Muito Bom"),e(),t(41,"option",9),i(42,"5 - Excelente"),e()(),s(43,H,2,0,"span",6),e(),t(44,"button",17),i(45," Cadastrar lugar "),e()()()),r&2&&(n(3),m("formGroup",l.camposForm),n(5),m("ngIf",l.isCampoInvalido("nome")),n(7),m("ngForOf",l.categorias),n(),m("ngIf",l.isCampoInvalido("categoria")),n(5),m("ngIf",l.isCampoInvalido("localizacao")),n(5),m("ngIf",l.isCampoInvalido("urlFoto")),n(7),m("value",1),n(2),m("value",2),n(2),m("value",3),n(2),m("value",4),n(2),m("value",5),n(2),m("ngIf",l.isCampoInvalido("avaliacao")))},dependencies:[y,F,L,R,j,w,O,I,N,M,T],encapsulation:2})};var J=[{path:"",component:f,pathMatch:"full"}],v=class o{static \u0275fac=function(r){return new(r||o)};static \u0275mod=d({type:o});static \u0275inj=c({imports:[x.forChild(J),x]})};var A=class o{static \u0275fac=function(r){return new(r||o)};static \u0275mod=d({type:o});static \u0275inj=c({imports:[h,v,z]})};export{A as LugaresModule};
